{
  "version": 3,
  "sources": ["../../../../../app/routes/pipelines/$pipelineId/$add_table.tsx"],
  "sourcesContent": ["import type { ActionArgs } from \"@remix-run/node\";\nimport { json, redirect } from \"@remix-run/node\";\nimport { Form, useActionData, useParams } from \"@remix-run/react\";\nimport * as React from \"react\";\n\nimport { requireUserId } from \"~/session.server\";\nimport { addTableToPipeline } from \"~/models/pipeline.server\";\n\nexport async function action({ request }: ActionArgs) {\n  const userId = await requireUserId(request);\n\n  const formData = await request.formData();\n  const table = formData.get(\"table\");\n  const pipelineId = formData.get(\"pipelineId\");\n\n  if (typeof table !== \"string\" || table.length === 0) {\n    return json(\n      { errors: { name: \"table is required\" } },\n      { status: 400 }\n    );\n  }\n  if (typeof pipelineId !== \"string\" || pipelineId.length === 0) {\n    return json(\n      { errors: { name: \"pipelineId is required\" } },\n      { status: 400 }\n    );\n  }\n\n  const pipeline = await addTableToPipeline({ id: pipelineId, table, userId });\n\n  return redirect(`/pipelines/${pipelineId}`);\n}\n\nexport default function AddTableToPipelinePage() {\n  const actionData = useActionData<typeof action>();\n  const nameRef = React.useRef<HTMLInputElement>(null);\n  const bodyRef = React.useRef<HTMLTextAreaElement>(null);\n  const params = useParams();\n  const table = params.add_table;\n  const pipelineId = params.pipelineId;\n\n  React.useEffect(() => {\n    document.getElementById('open_button')?.click();\n  });\n\n  return (\n    <div>\n        <button type=\"button\" id=\"open_button\" className=\"hidden transition duration-150\n            ease-in-out\" data-bs-toggle=\"modal\" data-bs-target=\"#exampleModal\">\n          Add table\n        </button>\n\n        <div className=\"modal fade fixed top-0 left-0 hidden w-full h-full outline-none overflow-x-hidden overflow-y-auto\"\n        id=\"exampleModal\" tabIndex={-1} aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n        <div className=\"modal-dialog relative w-auto pointer-events-none\">\n            <div\n            className=\"modal-content border-none shadow-lg relative flex flex-col w-full pointer-events-auto bg-white bg-clip-padding rounded-md outline-none text-current\">\n              <div\n                  className=\"modal-header flex flex-shrink-0 items-center justify-between p-4 border-b border-gray-200 rounded-t-md\">\n                  <h5 className=\"text-xl font-medium leading-normal text-gray-800\" id=\"exampleModalLabel\">Add a dataset</h5>\n                  <button type=\"button\"\n                  className=\"btn-close box-content w-4 h-4 p-1 text-black border-none rounded-none opacity-50 focus:shadow-none focus:outline-none focus:opacity-100 hover:text-black hover:opacity-75 hover:no-underline\"\n                  data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n              </div>\n              <div className=\"modal-body relative p-4\">\n                  Add {table} to the pipeline?\n              </div>\n                <div className=\"modal-footer flex flex-shrink-0 flex-wrap items-center justify-end p-4 border-t border-gray-200 rounded-b-md\">\n                  <Form method=\"post\">\n                      <input\n                        value={table}\n                        name=\"table\"\n                        type=\"hidden\"\n                      />\n                      <input value={pipelineId} name=\"pipelineId\" type=\"hidden\" />\n                      <button type=\"button\" className=\"px-6\n                        py-2.5\n                        bg-purple-600\n                        text-white\n                        font-medium\n                        text-xs\n                        leading-tight\n                        uppercase\n                        rounded\n                        shadow-md\n                        hover:bg-purple-700 hover:shadow-lg\n                        focus:bg-purple-700 focus:shadow-lg focus:outline-none focus:ring-0\n                        active:bg-purple-800 active:shadow-lg\n                        transition\n                        duration-150\n                        ease-in-out\" data-bs-dismiss=\"modal\">Cancel\n                      </button>\n                      <button type=\"submit\" className=\"px-6 py-2.5 bg-blue-600 text-white font-medium text-xs\n                        leading-tight\n                        uppercase\n                        rounded\n                        shadow-md\n                        hover:bg-blue-700 hover:shadow-lg\n                        focus:bg-blue-700 focus:shadow-lg focus:outline-none focus:ring-0\n                        active:bg-blue-800 active:shadow-lg\n                        transition\n                        duration-150\n                        ease-in-out\n                        ml-1\">Yes\n                      </button>\n                    </Form>\n                </div>\n            </div>\n        </div>\n        </div>\n    </div>\n  );\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAGA,YAAuB;AAEvB,qBAA8B;AAC9B,sBAAmC;AAyC3B;AAdO,SAAR,yBAA0C;AAC/C,QAAM,aAAa,cAA6B;AAChD,QAAM,UAAgB,aAAyB,IAAI;AACnD,QAAM,UAAgB,aAA4B,IAAI;AACtD,QAAM,SAAS,UAAU;AACzB,QAAM,QAAQ,OAAO;AACrB,QAAM,aAAa,OAAO;AAE1B,EAAM,gBAAU,MAAM;AAzCxB;AA0CI,mBAAS,eAAe,aAAa,MAArC,mBAAwC;AAAA,EAC1C,CAAC;AAED,SACE,mDAAC,SACG;AAAA,uDAAC,YAAO,MAAK,UAAS,IAAG,eAAc,WAAU,2DAChC,kBAAe,SAAQ,kBAAe,iBAAgB,yBADvE;AAAA;AAAA;AAAA;AAAA,WAGA;AAAA,IAEA;AAAA,MAAC;AAAA;AAAA,QAAI,WAAU;AAAA,QACf,IAAG;AAAA,QAAe,UAAU;AAAA,QAAI,mBAAgB;AAAA,QAAoB,eAAY;AAAA,QAChF,6DAAC,SAAI,WAAU,oDACX;AAAA,UAAC;AAAA;AAAA,YACD,WAAU;AAAA,YACR;AAAA;AAAA,gBAAC;AAAA;AAAA,kBACG,WAAU;AAAA,kBACV;AAAA,uEAAC,QAAG,WAAU,oDAAmD,IAAG,qBAAoB,6BAAxF;AAAA;AAAA;AAAA;AAAA,2BAAqG;AAAA,oBACrG;AAAA,sBAAC;AAAA;AAAA,wBAAO,MAAK;AAAA,wBACb,WAAU;AAAA,wBACV,mBAAgB;AAAA,wBAAQ,cAAW;AAAA;AAAA,sBAFnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAE2C;AAAA;AAAA;AAAA,gBAL/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAMA;AAAA,cACA,mDAAC,SAAI,WAAU,2BAA0B;AAAA;AAAA,gBAChC;AAAA,gBAAM;AAAA,mBADf;AAAA;AAAA;AAAA;AAAA,qBAEA;AAAA,cACE,mDAAC,SAAI,WAAU,gHACb,6DAAC,QAAK,QAAO,QACT;AAAA;AAAA,kBAAC;AAAA;AAAA,oBACC,OAAO;AAAA,oBACP,MAAK;AAAA,oBACL,MAAK;AAAA;AAAA,kBAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAIA;AAAA,gBACA,mDAAC,WAAM,OAAO,YAAY,MAAK,cAAa,MAAK,YAAjD;AAAA;AAAA;AAAA;AAAA,uBAA0D;AAAA,gBAC1D,mDAAC,YAAO,MAAK,UAAS,WAAU,+oBAejB,mBAAgB,SAAQ,sBAfvC;AAAA;AAAA;AAAA;AAAA,uBAgBA;AAAA,gBACA,mDAAC,YAAO,MAAK,UAAS,WAAU,wiBAWxB,mBAXR;AAAA;AAAA;AAAA;AAAA,uBAYA;AAAA,mBApCJ;AAAA;AAAA;AAAA;AAAA,qBAqCE,KAtCJ;AAAA;AAAA;AAAA;AAAA,qBAuCA;AAAA;AAAA;AAAA,UAnDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAoDA,KArDJ;AAAA;AAAA;AAAA;AAAA,eAsDA;AAAA;AAAA,MAxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAyDA;AAAA,OA/DJ;AAAA;AAAA;AAAA;AAAA,SAgEA;AAEJ;",
  "names": []
}
